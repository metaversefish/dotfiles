!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(24);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(12).default,o=n(25);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,r||e,i),u=o?o+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,s=new Array(i);r<i;r++)s[r]=n[r].fn;return s},c.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,i,s){var a=o?o+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,s),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return u(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||u(this,i);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==t||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[i]=1===c.length?c[0]:c:u(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&u(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(9)),i=r(n(1)),s=r(n(2)),a=r(n(28)),u=r(n(29)),c=["warn","error"],l=function(){function e(t){return(0,i.default)(this,e),this._source=t,window.bugout=new u.default,new Proxy(this,{get:function(e,t){return e._handleInput.bind(e,t)}})}return(0,s.default)(e,[{key:"_handleInput",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=this._formatMessage(e,r);"error"===e&&1===r.length&&window.bugout.log(r),"error"===e&&2===r.length&&window.bugout.log([r[0],r[1].stack]),c.includes(e)&&(t=console).log.apply(t,(0,o.default)(s))}},{key:"_formatMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1?arguments[1]:void 0,n=e,r={info:"7f8c8d",warn:"f39c12",error:"c0392b"};r.hasOwnProperty(e)||(n="info");var i=r[n],s=(0,a.default)(Date.now(),"mmm d, hh:MM:ss tt");return["[".concat(s,"] %c[").concat(this._source,"]: %c[").concat(n.toUpperCase(),"]:"),"font-weight: bold;","color: #".concat(i,";")].concat((0,o.default)(t))}}]),e}();t.default=l},function(e,t,n){const r=n(30);e.exports=new r},function(e,t,n){var r=n(20),o=n(21),i=n(22),s=n(23);e.exports=function(e){return r(e)||o(e)||i(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(26),o=n(27);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},function(e,t,n){"use strict";var r=n(0),o=r(n(15)),i=r(n(17)),s=r(n(18)),a=r(n(32)),u=r(n(7)),c=r(n(8)),l=new u.default("contentScript"),f={duplex:new s.default.Tab,eventChannel:new a.default("contentScript"),init:function(){l.info("Initialising TronLink"),this.registerListeners(),this.inject()},registerListeners:function(){var e=this;this.eventChannel.on("tunnel",function(){var t=(0,i.default)(o.default.mark((function t(n){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e.eventChannel,t.next=4,e.duplex.send("tabRequest",n);case 4:t.t1=t.sent,t.t0.send.call(t.t0,"tabReply",t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),l.info("Tab request failed:",t.t2);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),this.duplex.on("tunnel",(function(t){var n=t.action,r=t.data;e.eventChannel.send(n,r)}))},inject:function(){var e=document.head||document.documentElement,t=document.createElement("script");t.src=c.default.extension.getURL("dist/pageHook.js"),t.onload=function(){this.parentNode.removeChild(this)},e.insertBefore(t,e.children[0]),l.info("TronLink injected")}};f.init()},function(e,t,n){e.exports=n(16)},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new S(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=j(s,n);if(a){if(a===y)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,s),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",y={};function v(){}function g(){}function m(){}var b={};u(b,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(D([])));x&&x!==n&&r.call(x,i)&&(b=x);var _=m.prototype=v.prototype=Object.create(b);function M(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,s,a){var u=l(e[o],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:k}}function k(){return{value:t,done:!0}}return g.prototype=m,u(_,"constructor",m),u(m,"constructor",g),g.displayName=u(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},M(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new O(c(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},M(_),u(_,a,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){function n(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var s=e.apply(t,r);function a(e){n(s,o,i,a,u,"next",e)}function u(e){n(s,o,i,a,u,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(19)),i=r(n(31)),s=i.default.bind(null,"tab"),a=i.default.bind(null,"popup"),u={Host:o.default,Tab:s,Popup:a};t.default=u},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(9)),i=r(n(11)),s=r(n(1)),a=r(n(2)),u=r(n(3)),c=r(n(4)),l=r(n(5)),f=r(n(6)),h=r(n(13)),d=r(n(7)),p=r(n(8));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var m=new d.default("MessageDuplex.Host"),b=function(e){(0,u.default)(n,e);var t=g(n);function n(){var e;return(0,s.default)(this,n),(e=t.call(this)).channels=new Map,e.incoming=new Map,e.outgoing=new Map,p.default.runtime.onConnect.addListener((function(t){return e.handleNewConnection(t)})),e}return(0,a.default)(n,[{key:"handleNewConnection",value:function(e){var t=this,n=e.sender.id,r=(0,h.default)();if(n!==p.default.runtime.id)return e.disconnect(),m.warn("Dropped unsolicited connection from ".concat(n));var o=e.name,i=e.sender.url;this.channels.has(o)||this.emit("".concat(o,":connect"));var s=this.channels.get(o)||new Map,a=new URL(i).hostname;this.channels.set(o,s.set(r,{channel:e,url:i})),e.onMessage.addListener((function(n){return t.handleMessage(o,v(v({},n),{},{hostname:a,sender:e.sender}))})),e.onDisconnect.addListener((function(){var e=t.channels.get(o);e&&(e.delete(r),e.size||(t.channels.delete(o),t.emit("".concat(o,":disconnect"))))}))}},{key:"handleMessage",value:function(e,t){var n=this,r=t.noAck,o=void 0!==r&&r,i=t.hostname,s=t.sender,a=t.messageID,u=t.action,c=t.data;return"messageReply"==u?this.handleReply(c):"tab"!=e||["tabRequest"].includes(u)?o?this.emit(u,{hostname:i,sender:s,data:c}):(this.incoming.set(a,(function(t){return n.send(e,"messageReply",v({messageID:a},t),!1)})),void this.emit(u,{resolve:function(e){if(!n.incoming.get(a))return m.warn("Message ".concat(a," expired"));n.incoming.get(a)({error:!1,res:e}),n.incoming.delete(a)},reject:function(e){if(!n.incoming.get(a))return m.warn("Message ".concat(a," expired"));n.incoming.get(a)({error:!0,res:e}),n.incoming.delete(a)},data:c,hostname:i,sender:s})):m.error("Droping unauthorized tab request: ".concat(u),c)}},{key:"handleReply",value:function(e){var t=e.messageID,n=e.error,r=e.res;this.outgoing.has(t)&&(n?this.outgoing.get(t)(Promise.reject(r)):this.outgoing.get(t)(r),this.outgoing.delete(t))}},{key:"broadcast",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Promise.all((0,o.default)(this.channels.keys()).map((function(o){return n.send(o,e,t,r)})))}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.channels.has(t))return o?new Promise((function(o,i){var s=(0,h.default)();e.outgoing.set(s,o),e.channels.get(t).forEach((function(e){return e.channel.postMessage(JSON.parse(JSON.stringify({action:n,data:r,messageID:s,noAck:!1})))}))})):this.channels.get(t).forEach((function(e){return e.channel.postMessage(JSON.parse(JSON.stringify({action:n,data:r,noAck:!0})))}))}}]),n}(f.default),w=b;t.default=w},function(e,t,n){var r=n(10);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(10);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){var r;!function(o){"use strict";var i,s,a,u=(i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,function(e,t,n,r){if(1!==arguments.length||"string"!==h(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var o=(t=String(u.masks[t]||t||u.masks.default)).slice(0,4);"UTC:"!==o&&"GMT:"!==o||(t=t.slice(4),n=!0,"GMT:"===o&&(r=!0));var d=n?"getUTC":"get",p=e[d+"Date"](),y=e[d+"Day"](),v=e[d+"Month"](),g=e[d+"FullYear"](),m=e[d+"Hours"](),b=e[d+"Minutes"](),w=e[d+"Seconds"](),x=e[d+"Milliseconds"](),_=n?0:e.getTimezoneOffset(),M=l(e),O=f(e),j={d:p,dd:c(p),ddd:u.i18n.dayNames[y],dddd:u.i18n.dayNames[y+7],m:v+1,mm:c(v+1),mmm:u.i18n.monthNames[v],mmmm:u.i18n.monthNames[v+12],yy:String(g).slice(2),yyyy:g,h:m%12||12,hh:c(m%12||12),H:m,HH:c(m),M:b,MM:c(b),s:w,ss:c(w),l:c(x,3),L:c(Math.round(x/10)),t:m<12?u.i18n.timeNames[0]:u.i18n.timeNames[1],tt:m<12?u.i18n.timeNames[2]:u.i18n.timeNames[3],T:m<12?u.i18n.timeNames[4]:u.i18n.timeNames[5],TT:m<12?u.i18n.timeNames[6]:u.i18n.timeNames[7],Z:r?"GMT":n?"UTC":(String(e).match(s)||[""]).pop().replace(a,""),o:(_>0?"-":"+")+c(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:M,N:O};return t.replace(i,(function(e){return e in j?j[e]:e.slice(1,e.length-1)}))});function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function l(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)}function f(e){var t=e.getDay();return 0===t&&(t=7),t}function h(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}u.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(12)),i=r(n(1)),s=r(n(2)),a=function(){function e(){if((0,i.default)(this,e),this.realTimeLoggingOn=!0,this.useTimestamps=!1,this.useLocalStorage=!1,this.recordLogs=!0,this.autoTrim=!0,this.maxLines=2500,this.tailNumLines=100,this.logFilename="debugout.txt",this.depth=0,this.parentSizes=[0],this.currentResult="",this.startTime=new Date,this.output="",this.version=function(){return"0.5.0"},this.useLocalStorage){var t=window.localStorage.getItem("debugout.js");if(t){t=JSON.parse(t),this.output=t.log;var n=new Date(t.startTime),r=new Date(t.lastLog);this.output+="\n---- Session end: "+t.lastLog+" ----\n",this.output+=this.formatSessionDuration(n,r),this.output+="\n\n"}}this.output+="---- Session started: "+this.startTime+" ----\n\n"}return(0,s.default)(e,[{key:"getLog",value:function(){var e=new Date;if(this.recordLogs||this.log("[debugout.js] log recording is off."),this.useLocalStorage){var t=window.localStorage.getItem("debugout.js");t&&(t=JSON.parse(t),this.startTime=new Date(t.startTime),this.output=t.log,e=new Date(t.lastLog))}return this.output+"\n---- Log retrieved: "+e+" ----\n"+this.formatSessionDuration(this.startTime,e)}},{key:"tail",value:function(e){e=e||this.tailLines;return this.trimLog(this.getLog(),e)}},{key:"search",value:function(e){for(var t=this.output.split("\n"),n=new RegExp(e),r=[],o=0;o<t.length;o++){var i="["+o+"] ";t[o].match(n)&&r.push(i+t[o])}var s=r.join("\n");return 0==s.length&&(s='Nothing found for "'+e+'".'),s}},{key:"getSlice",value:function(e,t){return this.output.split("\n").slice(e,e+t).join("\n")}},{key:"downloadLog",value:function(){var e="data:text/plain;charset=utf-8,",t=this.getLog();e+=encodeURIComponent(t);var n=document.createElement("a");n.href=e,n.target="_blank",n.download=this.logFilename,document.body.appendChild(n),n.click(),n.remove()}},{key:"clear",value:function(){var e=new Date;if(this.output="---- Log cleared: "+e+" ----\n",this.useLocalStorage){var t={startTime:this.startTime,log:this.output,lastLog:e};t=JSON.stringify(t),window.localStorage.setItem("debugout.js",t)}this.realTimeLoggingOn&&console.log("[debugout.js] clear()")}},{key:"log",value:function(e){var t=this.determineType(e);if(null!=t&&this.recordLogs){var n=this.formatType(t,e);if(this.useTimestamps){var r=new Date;this.output+=this.formatTimestamp(r)}if(this.output+=n+"\n",this.autoTrim&&(this.output=this.trimLog(this.output,this.maxLines)),this.useLocalStorage){var o=new Date,i={startTime:this.startTime,log:this.output,lastLog:o};i=JSON.stringify(i),window.localStorage.setItem("debugout.js",i)}}this.depth=0,this.parentSizes=[0],this.currentResult=""}},{key:"determineType",value:function(e){if(null!=e){var t,n=(0,o.default)(e);if("object"==n)t=null==e.length?"function"==typeof e.getTime?"Date":"function"==typeof e.test?"RegExp":"Object":"Array";else t=n;return t}return null}},{key:"formatType",value:function(e,t){switch(e){case"Object":this.currentResult+="{\n",this.depth++,this.parentSizes.push(this.objectSize(t));var n=0;for(var r in t){this.currentResult+=this.indentsForDepth(this.depth),this.currentResult+=r+": ";var o=this.determineType(t[r]);(s=this.formatType(o,t[r]))?(this.currentResult+=s,n!=this.parentSizes[this.depth]-1&&(this.currentResult+=","),this.currentResult+="\n"):(n!=this.parentSizes[this.depth]-1&&(this.currentResult+=","),this.currentResult+="\n"),n++}if(this.depth--,this.parentSizes.pop(),this.currentResult+=this.indentsForDepth(this.depth),this.currentResult+="}",0==this.depth)return this.currentResult;break;case"Array":this.currentResult+="[",this.depth++,this.parentSizes.push(t.length);for(var i=0;i<t.length;i++){var s;"Object"!=(o=this.determineType(t[i]))&&"Array"!=o||(this.currentResult+="\n"+this.indentsForDepth(this.depth)),(s=this.formatType(o,t[i]))?(this.currentResult+=s,i!=this.parentSizes[this.depth]-1&&(this.currentResult+=", "),"Array"==o&&(this.currentResult+="\n")):(i!=this.parentSizes[this.depth]-1&&(this.currentResult+=", "),("Object"!=o||i==this.parentSizes[this.depth]-1)&&(this.currentResult+="\n"))}if(this.depth--,this.parentSizes.pop(),this.currentResult+="]",0==this.depth)return this.currentResult;break;case"function":var a=(t+="").split("\n");for(n=0;n<a.length;n++)a[n].match(/\}/)&&this.depth--,this.currentResult+=this.indentsForDepth(this.depth),a[n].match(/\{/)&&this.depth++,this.currentResult+=a[n]+"\n";return this.currentResult;case"RegExp":return"/"+t.source+"/";case"Date":case"string":return this.depth>0||0==t.length?'"'+t+'"':t;case"boolean":return t?"true":"false";case"number":return t+""}}},{key:"indentsForDepth",value:function(e){for(var t="",n=0;n<e;n++)t+="\t";return t}},{key:"trimLog",value:function(e,t){var n=e.split("\n");return n.length>t&&(n=n.slice(n.length-t)),n.join("\n")}},{key:"lines",value:function(){return this.output.split("\n").length}},{key:"formatSessionDuration",value:function(e,t){var n=t-e,r=Math.floor(n/1e3/60/60),o=("0"+r).slice(-2);n-=1e3*r*60*60;var i=Math.floor(n/1e3/60),s=("0"+i).slice(-2);n-=1e3*i*60;var a=Math.floor(n/1e3);return n-=1e3*a,"---- Session duration: "+o+":"+s+":"+("0"+a).slice(-2)+" ----"}},{key:"formatTimestamp",value:function(e){var t=e.getFullYear(),n=e.getDate();return"["+t+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+n+" "+Number(e.getHours())+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"]: "}},{key:"objectSize",value:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}}]),e}();t.default=a},function(e,t){const n=["alarms","bookmarks","browserAction","commands","contextMenus","cookies","downloads","events","extension","extensionTypes","history","i18n","idle","notifications","pageAction","runtime","storage","tabs","webNavigation","webRequest","windows"],r="undefined"!=typeof chrome,o="undefined"!=typeof window,i="undefined"!=typeof browser;e.exports=function(){const e=this;if(n.forEach((function(t){if(e[t]=null,r)try{chrome[t]&&(e[t]=chrome[t])}catch(e){}if(o)try{window[t]&&(e[t]=window[t])}catch(e){}if(i){try{browser[t]&&(e[t]=browser[t])}catch(e){}try{e.api=browser.extension[t]}catch(e){}}})),i){try{browser&&browser.runtime&&(this.runtime=browser.runtime)}catch(e){}try{browser&&browser.browserAction&&(this.browserAction=browser.browserAction)}catch(e){}}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(11)),i=r(n(1)),s=r(n(2)),a=r(n(3)),u=r(n(4)),c=r(n(5)),l=r(n(6)),f=r(n(13)),h=r(n(7)),d=r(n(8));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var v=new h.default("MessageDuplex.Child"),g=function(e){(0,a.default)(n,e);var t=y(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,i.default)(this,n),e=t.call(this),!["tab","popup"].includes(r))throw new Error('MessageDuplexChild expects a source type of either tab or popup, instead "'.concat(r,'" was provided'));return e.type=r,e.incoming=new Map,e.outgoing=new Map,e.messageListener=!1,e.disconnectListener=!1,e.extensionID=d.default.runtime.id,e.resetGovernor(),e.connectToHost(),e.connectionGovernor(),e}return(0,s.default)(n,[{key:"connectToHost",value:function(){var e=this;this.channel=d.default.runtime.connect({name:this.type}),this.governor.isConnected=!0,this.messageListener=this.channel.onMessage.addListener((function(t){e.handleMessage(t)})),this.disconnectListener=this.channel.onDisconnect.addListener((function(){var t=e.channel.error||d.default.lastError||"Unknown disconnect";v.error("Lost connection to MessageDuplexHost:",t),e.governor.isConnected=!1,e.governor.reconnect()}))}},{key:"resetGovernor",value:function(){this.governor&&this.governor.connectionEstablisher.func&&clearInterval(this.connectionGovernor.connectionEstablisher.func),this.governor={isConnected:!1,hasTimedOut:!1,connectionEstablisher:{func:!1,remaining:5},queue:[],reconnect:function(){v.warn("MessageDuplexChild requested reconnect")}}}},{key:"connectionGovernor",value:function(){if(this.isHost)throw new Error("Host port cannot establish governor status")}},{key:"handleMessage",value:function(e){var t=this,n=e.action,r=e.data,i=e.messageID,s=e.noAck,a=void 0!==s&&s;return"messageReply"==n?this.handleReply(r):a?this.emit(n,r):(this.incoming.set(i,(function(e){return t.send("messageReply",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({messageID:i},e),!1)})),void this.emit(n,{resolve:function(e){if(!t.incoming.get(i))return v.warn("Message ".concat(i," expired"));t.incoming.get(i)({error:!1,res:e}),t.incoming.delete(i)},reject:function(e){if(!t.incoming.get(i))return v.warn("Message ".concat(i," expired"));t.incoming.get(i)({error:!0,res:e}),t.incoming.delete(i)},data:r}))}},{key:"handleReply",value:function(e){var t=e.messageID,n=e.error,r=e.res;this.outgoing.has(t)&&(n?this.outgoing.get(t)(Promise.reject(r)):this.outgoing.get(t)(r),this.outgoing.delete(t))}},{key:"send",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.governor;return o.isConnected||o.hasTimedOut?!o.isConnected&&o.hasTimedOut?Promise.reject("Failed to establish connection to extension"):r?new Promise((function(r,o){var i=(0,f.default)();n.outgoing.set(i,r),n.channel.postMessage({action:e,data:t,messageID:i,noAck:!1})})):this.channel.postMessage({action:e,data:t,noAck:!0}):new Promise((function(n,r){return o.queue.push({action:e,data:t,resolve:n,reject:r})}))}}]),n}(l.default),m=g;t.default=m},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=r(n(2)),s=r(n(3)),a=r(n(4)),u=r(n(5));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(e){(0,s.default)(n,e);var t=c(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,o.default)(this,n),e=t.call(this),!r)throw"No channel scope provided";return e._channelKey=r,e._registerEventListener(),e}return(0,i.default)(n,[{key:"_registerEventListener",value:function(){var e=this;window.addEventListener("message",(function(t){var n=t.data,r=n.isTronLink,o=void 0!==r&&r,i=n.message,s=n.source;if(o&&(i||s)&&s!==e._channelKey){var a=i.action,u=i.data;e.emit(a,u)}}))}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{success:!1,error:"Function requires action {string} parameter"};window.postMessage({message:{action:e,data:t},source:this._channelKey,isTronLink:!0},"*")}}]),n}(r(n(6)).default),f=l;t.default=f}]);