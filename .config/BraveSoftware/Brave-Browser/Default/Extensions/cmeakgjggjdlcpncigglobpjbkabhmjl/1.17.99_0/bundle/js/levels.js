var levels=webpackJsonp_name_([6],{296:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(12),s=n.n(u),c=n(28),l=n(6),p=n(14),f=n(9),d=(n(21),n(544)),v=(n.n(d),n(319)),_=function(){return{register:function(){var e=setTimeout(function(){clearTimeout(e);var t={adId:7,partner:"sih",action:"click",adLocation:"levelup-button"};chrome.runtime.sendMessage({type:"AD_HIT_STORE",data:t})},500)}}}(),h=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.onLoad=function(){function e(){return n.apply(this,arguments)}var n=r(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s()(".badge_details_set_favorite").length){e.next=5;break}return e.next=3,l.a.get({show_levelup:p.a.show_levelup,levelup_use_available_cards:p.a.levelup_use_available_cards});case 3:n=e.sent,n.show_levelup&&setTimeout(function(){t.addPanel(n)},100);case 5:case"end":return e.stop()}},e,this)}));return e}(),t.addPanel=function(e){var n=this,a=parseInt(s()(".profile_xp_block .friendPlayerLevel").text(),10),i=parseInt(s()(".profile_xp_block .profile_xp_block_xp").text().replace(",","").match(/(\d+)/i)[1],10),o=s()('\n      <div class="level_up_block">\n        <div class="level_up_levels">\n          <label for="next_level">\n            '+i18next.t("controls:badges.your_level")+':\n            <input type="number" id="next_level" min="'+(a+1)+'">\n          </label>\n        </div>\n        <div class="level_up_results">\n          <div class="count">'+i18next.t("controls:badges.need_cardsets")+': <span class="value"></span></div>\n          <div class="error"></div>\n        </div>\n        <div class="level_up_controls">\n          <button class="btn btn_primary update">'+i18next.t("controls:badges.levelup")+'</button>\n        </div>\n        <div class="beta"></div>\n      </div>\n    ');o.insertAfter(".maincontent .profile_xp_block"),o.find("#next_level").change(function(e){var n=e.currentTarget.value,r=t.getXP(n),a=r-i,u=Math.ceil(a/100);o.find(".level_up_results .count .value").text(u)}),o.find("#next_level").val(a+1).trigger("change"),o.find("#next_level").keypress(function(e){return e.preventDefault()});var u=void 0;o.find(".level_up_controls .update").click(r(regeneratorRuntime.mark(function t(){var r,a,i,s,c,l,p,d,h,m,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,_.register(),r=f.a.getActiveUserSteamID(),t.next=5,new Promise(function(e){return chrome.runtime.sendMessage({type:"GetSteamPlayerBadges",data:{steamid:r}},e)});case 5:if(a=t.sent,!a.success){t.next=27;break}if(i=a.data.badges,s=void 0===i?[]:i,c=s.filter(function(e){return e.appid&&5===e.level}).map(function(e){return e.appid}),l=o.find(".level_up_results .count .value").text(),u){t.next=15;break}if(!e.show_levelup||!e.levelup_use_available_cards){t.next=15;break}return t.next=14,v.a.getAvailableCards();case 14:u=t.sent;case 15:return t.next=17,new Promise(function(e){return chrome.runtime.sendMessage({type:"GetSteamBadges",data:{count:l,excludeCards:u,excludeApps:c}},e)});case 17:if(p=t.sent,!p.success){t.next=24;break}for(d=p.data,h=d.reduce(function(e,t){return e.concat(t.items.map(function(e){return encodeURIComponent(e)}))},[]),m=0;m<Math.ceil(h.length/100);m+=1)b=h.slice(100*m,100*(m+1)),window.open("https://steamcommunity.com/market/multibuy?appid=753&contextid=6&items[]="+b.join("&items[]="),"_blank");t.next=25;break;case 24:throw Error("NO DATA");case 25:t.next=28;break;case 27:throw Error("Error");case 28:t.next=33;break;case 30:t.prev=30,t.t0=t.catch(0),o.find(".level_up_results .error").text("Sorry! Something went wrong :-(");case 33:case"end":return t.stop()}},t,n,[[0,30]])})))},t}(c.a);h.getXP=function(e){for(var t=Math.ceil(parseInt(e,10)/10),n=100*t*(e-10*(t-1)),r=1;r<t;r+=1)n+=1e3*r;return n},t.default=new h},319:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(12),o=n.n(i),u=n(9),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(e){return function(t){return e+"-"+t.substring(t.indexOf(")")+2).trim()}},l=function(e){return new Promise(function(t){return setTimeout(t,e)})},p=function(e,t){return e.reduce(function(e,n){return e.then(function(){return l(t)}).then(n)},Promise.resolve())},f={method:"GET",xhrFields:{withCredentials:!0}},d=function(){function e(){a(this,e)}return e.parseCollectionsLinks=function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=".badge_row.is_link:has(.badge_progress_info)"+(r?":has(.badge_progress_card.owned)":""),n=(a?o()(a).find(t):o()(t)).find("a.badge_row_overlay"),e.abrupt("return",o.a.map(n,function(e){return e.href}));case 3:case"end":return e.stop()}},e,this)}));return e}(),e.getAvailableCards=function(){function t(){return n.apply(this,arguments)}var n=r(regeneratorRuntime.mark(function t(){var n,a,i=this,l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.parseCollectionsLinks(l,d);case 3:return n=t.sent,a=[],t.next=7,p(n.map(function(e){return r(regeneratorRuntime.mark(function t(){var n,r,l,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.match(/\/(\d*)\/$/)[1],t.next=4,u.a.sendRequest(s({},f,{url:e}));case 4:r=t.sent,l=o()(r).find(".badge_card_set_card.owned .badge_card_set_text.ellipsis:has(.badge_card_set_text_qty)"),p=o.a.map(l,function(e){return e.innerText}).map(c(n)),a.push.apply(a,p),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0);case 13:case"end":return t.stop()}},t,i,[[0,10]])}))}),50);case 7:return t.abrupt("return",a.length?a:void 0);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return t}(),e}();t.a=d},544:function(e,t){},584:function(e,t,n){n(5),e.exports=n(296)}},[584]);